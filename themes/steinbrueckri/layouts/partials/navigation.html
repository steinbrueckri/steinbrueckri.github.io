<div class="navigation">
    <input id="page-nav-toggle" class="main-navigation-toggle" type="checkbox" />
    <label for="page-nav-toggle">
        <svg class="icon--menu-toggle" viewBox="0 0 60 30">
            <g class="icon-group">
                <g class="icon--menu">
                    <path d="M 6 0 L 54 0" />
                    <path d="M 6 15 L 54 15" />
                    <path d="M 6 30 L 54 30" />
                </g>
                <g class="icon--close">
                    <path d="M 15 0 L 45 30" />
                    <path d="M 15 30 L 45 0" />
                </g>
            </g>
        </svg>
    </label>

    <nav class="main-navigation">
        {{ with .Site.Menus.main }}
        <ul>
            {{ range . }}
                <li><a href="{{ .URL }}">{{ .Name }}</a></li>
            {{ end }}
        </ul>
        {{ end }}
    </nav>
    {{ if (not .IsHome) }} <!-- Display breadcrumb not on frontpage -->
        <div class="main-navigation-breadcrumb">
            <ul class="breadcrumb">
                <li>{{ template "breadcrumb" dict "page" . "value" .Title }}</li>
            </ul>
        </div>
    {{ end }}
</div>

{{define "breadcrumb"}}
    {{$parent := .page.Parent }}
    {{ if $parent }}
        {{ $value := (printf "<a href='%s'>%s</a> > %s" $parent.RelPermalink $parent.Title .value) }}
        {{ template "breadcrumb" dict "page" $parent "value" $value }}
    {{else}}
        {{ .value|safeHTML }}
    {{end}}
{{end}}

